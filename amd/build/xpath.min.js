define ("mod_margic/xpath",["exports"],function(a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.xpathFromNode=function(a,b){var c="",d=a;while(d!==b){if(!d){throw new Error("Node is not a descendant of root")}c=g(d)+"/"+c;d=d.parentNode}c="/"+c;c=c.replace(/\/$/,"");return c};a.nodeFromXPath=function(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:document.body;try{return i(a,b)}catch(c){return document.evaluate("."+a,b,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}};function b(a){if("undefined"==typeof Symbol||null==a[Symbol.iterator]){if(Array.isArray(a)||(a=c(a))){var b=0,d=function(){};return{s:d,n:function n(){if(b>=a.length)return{done:!0};return{done:!1,value:a[b++]}},e:function e(a){throw a},f:d}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e,f=!0,g=!1,h;return{s:function s(){e=a[Symbol.iterator]()},n:function n(){var a=e.next();f=a.done;return a},e:function e(a){g=!0;h=a},f:function f(){try{if(!f&&null!=e.return)e.return()}finally{if(g)throw h}}}}function c(a,b){if(!a)return;if("string"==typeof a)return d(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor)c=a.constructor.name;if("Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return d(a,b)}function d(a,b){if(null==b||b>a.length)b=a.length;for(var c=0,d=Array(b);c<b;c++){d[c]=a[c]}return d}function e(a){var b=a.nodeName.toLowerCase(),c=b;if("#text"===b){c="text()"}return c}function f(a){var b=0,c=a;while(c){if(c.nodeName===a.nodeName){b+=1}c=c.previousSibling}return b}function g(a){var b=e(a),c=f(a);return"".concat(b,"[").concat(c,"]")}function h(a,b,c){b=b.toUpperCase();for(var d=-1,e=0,f;e<a.children.length;e++){f=a.children[e];if(f.nodeName.toUpperCase()===b){++d;if(d===c){return f}}}return null}function i(a,c){var d=null!==a.match(/^(\/[A-Za-z0-9-]+(\[[0-9]+\])?)+$/);if(!d){throw new Error("Expression is not a simple XPath")}var e=a.split("/"),f=c;e.shift();var g=b(e),i;try{for(g.s();!(i=g.n()).done;){var j=i.value,k=void 0,l=void 0,m=j.indexOf("[");if(-1!==m){k=j.slice(0,m);var n=j.slice(m+1,j.indexOf("]"));l=parseInt(n)-1;if(0>l){return null}}else{k=j;l=0}var o=h(f,k,l);if(!o){return null}f=o}}catch(a){g.e(a)}finally{g.f()}return f}});
//# sourceMappingURL=xpath.min.js.map
