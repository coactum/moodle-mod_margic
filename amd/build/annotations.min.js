define ("mod_annotateddiary/annotations",["jquery"],function(a){return{init:function init(){function b(){if("undefined"!=typeof window.getSelection){var a=window.getSelection().getRangeAt(0)}else if("undefined"!=typeof document.selection){if("Text"==document.selection.type){var a=document.selection.createRange().htmlText}}return a.cloneContents().textContent}function c(a){var b=0,c=0;if("undefined"!=typeof window.getSelection){range=window.getSelection().getRangeAt(0);priorRange=range.cloneRange();priorRange.selectNodeContents(a);priorRange.setEnd(range.startContainer,range.startOffset);b=priorRange.toString().length;c=b+range.toString().length}else if("undefined"!=typeof document.selection){if("Text"==document.selection.type){range=document.selection.createRange();priorRange=document.body.createTextRange();priorRange.moveToElementText(a);priorRange.setEndPoint("EndToStart",range);b=priorRange.text.length;c=b+range.text.length}}console.log(priorRange);return{start:b,end:c}}a(document).on("mouseup",".originaltext",function(){console.log(this);var a=b(),d=window.rangy;console.log(d);console.log(a);console.log(document.getElementsByClassName("originaltext"));console.log(document.getElementsByClassName("originaltext")[0]);console.log(document.getElementsByClassName("originaltext")[0].innerHTML);console.log(document.getElementsByClassName("originaltext")[0].innerHTML.indexOf(a));console.log(c(this))})}}});
//# sourceMappingURL=annotations.min.js.map
